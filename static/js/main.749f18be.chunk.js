(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{34:function(e,t,a){e.exports=a(55)},39:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(31),r=a.n(c),o=(a(39),a(40),a(7)),i=a(11),m=a(14),s=a(2),u=a(33),d=function(){return n.a.createElement("header",null,n.a.createElement("h6",{className:"display-4 text-center mt-5"},"My Blog"),n.a.createElement("p",{className:"lead text-center mb-5"},"Welcome to the blog of Shishir"))},g=function(e){var t=e.cardTitle,a=void 0===t?"Blog title":t,l=e.blogDesc,c=void 0===l?"This is a wider card with supporting text below as a natural lead-into additional content. This content is a little bit longer.":l,r=e.imgSrc,o=e.timeStamp;return n.a.createElement("div",{className:"card mb-5"},n.a.createElement("img",{className:"card-img-top ",height:"300",src:r,alt:"Card image cap"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},a),n.a.createElement("p",{className:"card-text"},c)),n.a.createElement("div",{className:"card-footer"},n.a.createElement("p",{className:"card-text"},n.a.createElement("small",{className:"text-muted"},o)),n.a.createElement("button",{className:" float-right btn btn-outline-info"},"Read more")))},E=a(16),p=a.n(E);a(49),a(50);p.a.initializeApp({apiKey:"AIzaSyB984EW4VeIOA0phqQ6AtGdM8EM5E1y4eg",authDomain:"blog-730e6.firebaseapp.com",databaseURL:"https://blog-730e6.firebaseio.com",projectId:"blog-730e6",storageBucket:"blog-730e6.appspot.com",messagingSenderId:"630863330793",appId:"1:630863330793:web:5f11d9cb1241bc4fe59f78",measurementId:"G-N9WRSRHFHK"}),p.a.analytics();var b=p.a.auth(),f=p.a.storage(),h=p.a.firestore(),N=function(e){e.loggedIn;var t=Object(l.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(l.useEffect)((function(){h.collection("articles").get().then((function(e){e.forEach((function(e){r([].concat(Object(u.a)(c),[e.data()]))}))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),n.a.createElement("div",{className:"mb-5"},n.a.createElement(d,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8"},c.map((function(e,t){return n.a.createElement(g,{key:t,cardTitle:e.title,blogDesc:e.desc,imgSrc:e.imageUri})}))),n.a.createElement("div",{className:"col-md-4"}))))},v=a(21),O=function(){var e=Object(l.useState)({email:"",pwd:"",success:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1],r=function(e,t){c(Object(o.a)(Object(o.a)({},a),{},Object(v.a)({},t,e.target.value)))};return n.a.createElement("div",{className:"container"},a.success&&n.a.createElement(s.a,{to:"/"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 offset-md-3 p-5"},n.a.createElement("h1",{className:"display-4 text-center"},"Sign - IN "),n.a.createElement("p",{className:"lead text-center"},"Sign in to post blog"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email"),n.a.createElement("input",{type:"email",className:"form-control",placeholder:"example:abc@gmail.com",value:a.email,onChange:function(e){r(e,"email")},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Password"),n.a.createElement("input",{type:"password",className:"form-control",placeholder:"***********",value:a.pwd,onChange:function(e){r(e,"pwd")},required:!0})),n.a.createElement("button",{onClick:function(e){e.preventDefault(),b.signInWithEmailAndPassword(a.email,a.pwd).then((function(e){localStorage.setItem("uid",JSON.stringify(e.user.uid)),c({email:"",pwd:"",success:!0})})).catch((function(e){var t=e.code,a=e.message;console.log(t,a),alert("Unable to log in")}))},className:"btn btn-success"},"Sign In")))))};var j=function(){return n.a.createElement("div",null,"Signup")},I=function(e){var t=e.loggedIn,a=e.logoutUser;return n.a.createElement("footer",{className:"bg-dark fixed-bottom mt-5"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h3",{className:"text-white text-center"},"Copyright @Shishir Bahuguna")),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h5",{className:"text-center text-white m-1"},"Quick Links"),n.a.createElement("ul",null,t?n.a.createElement(l.Fragment,null,n.a.createElement("li",null,n.a.createElement(m.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/user/addArticle"},"Add a Article")),n.a.createElement("li",null,n.a.createElement("button",{className:"btn btn-warning",onClick:a},"logout"))):n.a.createElement("li",null,n.a.createElement(m.b,{to:"/user/signin"},"Signin")))))))},S=a(57),w=function(){var e=Object(l.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(l.useState)({title:"",desc:"",imageUri:""}),m=Object(i.a)(r,2),u=m[0],d=m[1],g=Object(l.useState)(!1),E=Object(i.a)(g,2),p=E[0],b=E[1];Object(l.useEffect)((function(){""!==u.imageUri&&h.collection("articles").add(u).then((function(e){console.log(e),alert("Article Uploaded"),b(!0)})).catch((function(e){console.log(e),alert("failed to upload article")}))}),[u]);return n.a.createElement("div",{className:"col-md-6 offset-md-3 p-5"},p&&n.a.createElement(s.a,{to:"/"}),n.a.createElement("h1",{className:"display-1"},"Add Article"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Title"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Blog Title",onChange:function(e){return d(Object(o.a)(Object(o.a)({},u),{},{title:e.target.value}))},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Material"),n.a.createElement("textarea",{type:"textarea",className:"form-control",placeholder:"Blog Material",rows:"8",required:!0,onChange:function(e){return d(Object(o.a)(Object(o.a)({},u),{},{desc:e.target.value}))}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Image"),n.a.createElement("input",{type:"file",className:"form-control",placeholder:"Blog Image",required:!0,onChange:function(e){var t=e.target.files[0];c((function(e){return t})),console.log(t)}})),n.a.createElement("button",{onClick:function(e){e.preventDefault();var t=Object(S.a)(),l=f.ref("".concat(t,".jpg")).put(a);l.on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e),alert("Image upload Failed")}),(function(){l.snapshot.ref.getDownloadURL().then((function(e){d(Object(o.a)(Object(o.a)({},u),{},{imageUri:e}))}))})),d({title:"",desc:"",imageUri:""}),c("")},className:"btn btn-info"},"Add Article")))},x=function(){var e=Object(l.useState)({loggedIn:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(l.useEffect)((function(){localStorage.getItem("uid")&&c(Object(o.a)(Object(o.a)({},a),{},{loggedIn:!0,uid:JSON.parse(localStorage.getItem("uid"))}))}),[]);return n.a.createElement(m.a,null,n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/",exact:!0},n.a.createElement(N,{loggedIn:a.loggedIn})),n.a.createElement(s.b,{path:"/user/signin",exact:!0,component:O}),n.a.createElement(s.b,{path:"/user/signup",exact:!0,component:j}),n.a.createElement(s.b,{path:"/user/addArticle",exact:!0,component:w})),n.a.createElement(I,{loggedIn:a.loggedIn,logoutUser:function(){localStorage.getItem("uid")&&localStorage.removeItem("uid"),c({loggedIn:!1})}}))};r.a.render(n.a.createElement(x,{className:"App"}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.749f18be.chunk.js.map